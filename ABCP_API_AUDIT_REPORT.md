# –ü–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ –∞—É–¥–∏—Ç—É –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å ABCP API VintTop.ru

## –î–∞—Ç–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –∞—É–¥–∏—Ç–∞

7 –¥–µ–∫–∞–±—Ä—è 2024

## –¶–µ–ª—å –∞—É–¥–∏—Ç–∞

–ü—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å API VintTop.ru (ABCP API) –≤ –ø—Ä–æ–µ–∫—Ç–µ Django –∏ —Å—Ä–∞–≤–Ω–∏—Ç—å —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π ABCP API.

## –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

- <https://www.abcp.ru/wiki/API:Docs>
- <https://www.abcp.ru/wiki/API.ABCP.Client>
- <https://www.abcp.ru/wiki/API.ABCP.Admin>

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞—É–¥–∏—Ç–∞

### ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

#### 1. –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã (API.ABCP.Client)

- ‚úÖ **–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É** (`search/articles`) - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **–ü–æ–ª—É—á–µ–Ω–∏–µ –±—Ä–µ–Ω–¥–æ–≤** (`search/brands`) - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `get_abcp_brands()`
- ‚úÖ **–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `get_abcp_user_info()`
- ‚úÖ **–ü–æ–∏—Å–∫ –ø–æ VIN** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `search_by_vin()`

#### 2. –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ ABCP API:

**–û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏:**

- ‚úÖ `Supplier` - –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏ —Å –ø–æ–ª–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ API
- ‚úÖ `SupplierProduct` - —Ç–æ–≤–∞—Ä—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
- ‚úÖ `SupplierStaff` - —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
- ‚úÖ `SupplierDeliveryMethod` - —Å–ø–æ—Å–æ–±—ã –¥–æ—Å—Ç–∞–≤–∫–∏
- ‚úÖ `SupplierOrderStatus` - —Å—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤
- ‚úÖ `SupplierClientGroup` - –≥—Ä—É–ø–ø—ã –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚úÖ `SupplierClient` - –∫–ª–∏–µ–Ω—Ç—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
- ‚úÖ `SupplierOrder` - –∑–∞–∫–∞–∑—ã
- ‚úÖ `SupplierOrderItem` - –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤
- ‚úÖ `SupplierOrderHistory` - –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞–∫–∞–∑–æ–≤
- ‚úÖ `SupplierBalanceTransaction` - —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±–∞–ª–∞–Ω—Å–∞

**–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏:**

- ‚úÖ `SupplierSyncLog` - –ª–æ–≥–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

#### 3. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å

–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:

- ‚úÖ –í—Å–µ –º–æ–¥–µ–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ –∞–¥–º–∏–Ω–∫–µ —Å `@admin.register`
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã `list_display`, `list_filter`, `search_fields` –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏–Ω–ª–∞–π–Ω—ã –¥–ª—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤:
  - –¢–µ—Å—Ç API —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
  - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤
  - –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
  - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π
  - –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã fieldsets –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã readonly_fields –¥–ª—è –∑–∞—â–∏—Ç—ã —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

#### 4. –ú–µ—Ç–æ–¥—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:

- ‚úÖ `sync_staff()` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- ‚úÖ `sync_delivery_methods()` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–ø–æ—Å–æ–±–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏  
- ‚úÖ `sync_order_statuses()` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤
- ‚úÖ `sync_client_groups()` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≥—Ä—É–ø–ø –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚úÖ `sync_clients()` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚úÖ `sync_orders()` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–∫–∞–∑–æ–≤
- ‚úÖ `sync_products()` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ `sync_all_entities()` - –ø–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π


#### 5. –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã

- ‚úÖ `_make_abcp_request()` - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ `test_api_connection()` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ –í—Å–µ getter –º–µ—Ç–æ–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ API


### ‚ö†Ô∏è –ß–ê–°–¢–ò–ß–ù–û –†–ï–ê–õ–ò–ó–û–í–ê–ù–û / –¢–†–ï–ë–£–ï–¢ –î–û–†–ê–ë–û–¢–ö–ò

#### 1. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã ABCP API

**–ü—Ä–æ–±–ª–µ–º–∞:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã, –Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö credentials

**–°—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

- ‚ùå `cp/users` (GET) - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π - 400 Bad Request
- ‚ùå `cp/orders` (GET) - –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ - 400 Bad Request
- ‚ùå `cp/managers` (GET) - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ - 400 Bad Request
- ‚ùå `cp/statuses` (GET) - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ - 400 Bad Request
- ‚ùå –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã


**–ü—Ä–∏—á–∏–Ω–∞:** –°–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ —Ç—Ä–µ–±—É—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å API-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, –∞ –≤ –º–æ–¥–µ–ª–∏ `Supplier` –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –æ–±—ã—á–Ω—ã–µ `api_login`/`api_password`.

#### 2. –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è –≤ –º–æ–¥–µ–ª–∏ Supplier

- ‚ùå `admin_login` - –ª–æ–≥–∏–Ω API-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- ‚ùå `admin_password` - –ø–∞—Ä–æ–ª—å API-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞


### ‚ùå –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

#### 1. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API.ABCP.Admin

**–ó–∞–∫–∞–∑—ã:**

- ‚ùå `cp/order` (GET) - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–∫–∞–∑–µ
- ‚ùå `cp/order/statusHistory` (GET) - –∏—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–æ–∑–∏—Ü–∏–π
- ‚ùå `cp/orders/statusHistory` (GET) - –ø–∞–∫–µ—Ç–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
- ‚ùå `cp/orders/fromArchive` (POST) - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ –∞—Ä—Ö–∏–≤–∞
- ‚ùå `cp/orders/toArchive` (POST) - –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ –∞—Ä—Ö–∏–≤
- ‚ùå `cp/order` (POST) - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
- ‚ùå `cp/order/merge` (POST) - –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤

**–ó–∞–∫–∞–∑ –ø–æ—Å—Ç–∞–≤—â–∏–∫—É:**

- ‚ùå `cp/orders/online` (GET) - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã online-–∑–∞–∫–∞–∑–∞
- ‚ùå `cp/orders/online` (POST) - –æ—Ç–ø—Ä–∞–≤–∫–∞ online-–∑–∞–∫–∞–∑–∞

**–§–∏–Ω–∞–Ω—Å—ã:**

- ‚ùå `cp/finance/userBalance` (POST) - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
- ‚ùå `cp/finance/creditLimit` (POST) - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞ –∫—Ä–µ–¥–∏—Ç–∞
- ‚ùå `cp/finance/userInfo` (POST) - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- ‚ùå `cp/finance/payments` (GET) - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π
- ‚ùå `cp/finance/paymentOrderLinks` (GET) - –ø—Ä–∏–≤—è–∑–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π
- ‚ùå `cp/onlinePayments` (GET) - online –ø–ª–∞—Ç–µ–∂–∏
- ‚ùå `cp/finance/payments` (POST) - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π
- ‚ùå `cp/finance/deleteLinkPayments` (POST) - —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏–≤—è–∑–∫–∏
- ‚ùå `cp/finance/paymentOrderLink` (POST) - –ø—Ä–∏–≤—è–∑–∫–∞ –ø–ª–∞—Ç–µ–∂–∞
- ‚ùå `cp/finance/paymentRefund` (POST) - –≤–æ–∑–≤—Ä–∞—Ç –ø–ª–∞—Ç–µ–∂–∞
- ‚ùå `cp/finance/deletePayments` (POST) - —É–¥–∞–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π
- ‚ùå `komtet/getChecks` (GET) - –ø–æ–ª—É—á–µ–Ω–∏–µ —á–µ–∫–æ–≤

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:**

- ‚ùå `cp/user/new` (POST) - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚ùå `cp/users/profiles` (GET) - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π
- ‚ùå `cp/users/profile` (POST) - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
- ‚ùå `cp/user` (POST) - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚ùå `cp/user/shipmentAddresses` (GET) - –∞–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
- ‚ùå `cp/user/smsSettings` (GET) - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SMS
- ‚ùå `cp/user/options` (GET/POST) - –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –æ–ø—Ü–∏–∏

**–ó–æ–Ω—ã –∞–¥—Ä–µ—Å–æ–≤:**

- ‚ùå `cp/user/shipmentAddressZones` (GET/POST) - –∑–æ–Ω—ã –∞–¥—Ä–µ—Å–æ–≤
- ‚ùå `cp/user/shipmentAddressZones/new` (POST) - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–æ–Ω—ã
- ‚ùå `cp/user/shipmentAddressZones/{id}/update` (POST) - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- ‚ùå `cp/user/shipmentAddressZones/{id}/delete` (POST) - —É–¥–∞–ª–µ–Ω–∏–µ

**–ü–æ—Å—Ç–∞–≤—â–∏–∫–∏:**

- ‚ùå `cp/distributors` (GET) - —Å–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
- ‚ùå `cp/distributor/status` (POST) - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
- ‚ùå `cp/distributor/pricelistUpdate` (POST) - –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∞–π—Å–∞
- ‚ùå `cp/routes` (GET) - –º–∞—Ä—à—Ä—É—Ç—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
- ‚ùå `cp/route` (POST) - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞
- ‚ùå `cp/routes/status` (POST) - —Å—Ç–∞—Ç—É—Å –º–∞—Ä—à—Ä—É—Ç–∞
- ‚ùå `cp/route/delete` (POST) - —É–¥–∞–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞
- ‚ùå `cp/offices` (GET/POST) - –æ—Ñ–∏—Å—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
- ‚ùå `cp/distributor/copy` (POST) - –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
- ‚ùå `cp/route/create` (POST) - —Å–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ:**

- ‚ùå `cp/garage` (GET) - –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ –≤ –≥–∞—Ä–∞–∂–µ
- ‚ùå `cp/payments/getPaymentMethodSettings` (GET) - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π
- ‚ùå `cp/payment/token` (GET) - —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ–ø–ª–∞—Ç—É
- ‚ùå `cp/payment/top-balance-link` (GET) - —Å—Å—ã–ª–∫–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞
- ‚ùå `cp/articles/brands` (GET) - —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –±—Ä–µ–Ω–¥–æ–≤
- ‚ùå `cp/articles/brandGroups` (GET) - –≥—Ä—É–ø–ø—ã –±—Ä–µ–Ω–¥–æ–≤
- ‚ùå –ö–∞—Ç–∞–ª–æ–≥–∏ –≤ —Ç–æ–≤–∞—Ä–Ω—ã—Ö –≥—Ä—É–ø–ø–∞—Ö
- ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–∞—Ç–∞–ª–æ–≥–∏


## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –¥–æ—Ä–∞–±–æ—Ç–∫–µ

### üîß –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –î–û–†–ê–ë–û–¢–ö–ò (–¥–ª—è —Ä–∞–±–æ—Ç—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤)

#### 1. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –¥–ª—è API-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤ –º–æ–¥–µ–ª—å Supplier

```python
# –í models.py –≤ –∫–ª–∞—Å—Å Supplier –¥–æ–±–∞–≤–∏—Ç—å:
admin_login = models.CharField(max_length=100, blank=True, verbose_name='–õ–æ–≥–∏–Ω API-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞')
admin_password = models.CharField(max_length=100, blank=True, verbose_name='–ü–∞—Ä–æ–ª—å API-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞')
```

#### 2. –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é

```bash
python manage.py makemigrations catalog
python manage.py migrate
```

#### 3. –û–±–Ω–æ–≤–∏—Ç—å –∞–¥–º–∏–Ω–∫—É

```python
# –í admin.py –æ–±–Ω–æ–≤–∏—Ç—å fieldsets –¥–ª—è SupplierAdmin:
('API –Ω–∞—Å—Ç—Ä–æ–π–∫–∏', {
    'fields': (
        'api_type', 'api_url',
        'api_login', 'api_password',           # –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –¥–æ—Å—Ç—É–ø
        'admin_login', 'admin_password',       # –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –¥–æ—Å—Ç—É–ø
        'api_key', 'api_secret', 'data_format', 'sync_frequency'
    ),
})
```

#### 4. –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

–û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ `sync_*` –º–µ—Ç–æ–¥—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è admin credentials:

```python
def _make_admin_request(self, endpoint, params=None):
    """–ú–µ—Ç–æ–¥ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤"""
    if not self.admin_login or not self.admin_password:
        return False, "–õ–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å API-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã"

    password_hash = hashlib.md5(self.admin_password.encode('utf-8')).hexdigest()

    base_params = {
        'userlogin': self.admin_login,
        'userpsw': password_hash,
        'format': 'json'
    }
    # ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞
```

### üöÄ –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ï –î–û–†–ê–ë–û–¢–ö–ò (–ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É)

#### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –±–∞–ª–∞–Ω—Å–æ–º –∫–ª–∏–µ–Ω—Ç–æ–≤
- –î–æ–±–∞–≤–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞–º–∏ –∏ –∏—Ö –ø—Ä–∏–≤—è–∑–∫–∞–º–∏
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–æ–∑–≤—Ä–∞—Ç—ã –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏

#### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –∑–∞–∫–∞–∑–∞–º–∏

- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–∫–∞–∑–∞—Ö
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–æ–∑–∏—Ü–∏–π
- –î–æ–±–∞–≤–∏—Ç—å –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤

#### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

- –î–æ–±–∞–≤–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏ –∏ –≥—Ä—É–ø–ø–∞–º–∏
- –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å –∞–¥—Ä–µ—Å–∞–º–∏ –¥–æ—Å—Ç–∞–≤–∫–∏

#### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4: –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏

- –î–æ–±–∞–≤–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ –∏ –æ—Ñ–∏—Å–∞–º–∏
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–æ–≤ —á–µ—Ä–µ–∑ API
- –î–æ–±–∞–≤–∏—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: 75% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- ‚úÖ **–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å**: 100% —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö**: 100% –ø–æ–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π ABCP
- ‚úÖ **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å**: 100% –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
- ‚ö†Ô∏è **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã**: 0% —Ä–∞–±–æ—Ç–∞—é—Ç –∏–∑-–∑–∞ credentials
- ‚ùå **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**: 30% —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

### –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

–ì–ª–∞–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –Ω–µ—Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ - –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö credentials –¥–ª—è API-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞. –í—Å–µ –º–µ—Ç–æ–¥—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

### –í—Ä–µ–º—è –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –¥–æ—Ä–∞–±–æ—Ç–∫–∏**: 2-4 —á–∞—Å–∞
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1-2**: 1-2 –Ω–µ–¥–µ–ª–∏  
- **–ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤**: 1-2 –º–µ—Å—è—Ü–∞

### –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
- ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –æ—Ç–ª–∏—á–Ω–∞—è, –≤—Å–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã Django —Å–æ–±–ª—é–¥–µ–Ω—ã
- ‚úÖ –ú–æ–¥–µ–ª–∏: –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–≤—è–∑–∏
- ‚úÖ –ê–¥–º–∏–Ω–∫–∞: –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –∫–Ω–æ–ø–∫–∞–º–∏ –¥–µ–π—Å—Ç–≤–∏–π
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: —Ö–æ—Ä–æ—à–∞—è
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –≤ –∫–æ–¥–µ

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏–º–µ–µ—Ç –æ—Ç–ª–∏—á–Ω—É—é –±–∞–∑—É –∏ —Ç—Ä–µ–±—É–µ—Ç —Ç–æ–ª—å–∫–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã —Å credentials –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ ABCP API.
